{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>All Bookings</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

  <div class="container">

   <div class="nav-links">
  <a href="{% url 'home' %}" class="btn">Return Home</a>
    </div>

    <!-- Tabs -->
    <ul class="nav nav-tabs mb-3" id="bookingTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="past-tab" data-bs-toggle="tab" data-bs-target="#past" type="button" role="tab">Past</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="today-tab" data-bs-toggle="tab" data-bs-target="#today" type="button" role="tab">Today</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="future-tab" data-bs-toggle="tab" data-bs-target="#future" type="button" role="tab">Future</button>
      </li>
    </ul>

    <!-- Tab Content -->
    <div class="tab-content">

      <!-- Past Bookings -->
      <div class="tab-pane fade show active" id="past" role="tabpanel">
        {% if past_bookings %}
        <table class="table table-striped table-bordered">
          <thead class="table-light">
            <tr>
              <th>Room</th>
              <th>User</th>
              <th>Date</th>
              <th>Start</th>
              <th>End</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            {% for b in past_bookings %}
            <tr>
              <td>{{ b.room.room_number }}</td>
              <td>{{ b.user.name }}</td>
              <td>{{ b.start_time|date:"Y-m-d" }}</td>
              <td>{{ b.start_time|time:"H:i" }}</td>
              <td>{{ b.end_time|time:"H:i" }}</td>
              <td>{{ b.status|title }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
        {% else %}
        <p>No past bookings.</p>
        {% endif %}
      </div>

      <!-- Today Bookings -->
      <div class="tab-pane fade" id="today" role="tabpanel">
        {% if today_bookings %}
        <table class="table table-striped table-bordered">
          <thead class="table-light">
            <tr>
              <th>Room</th>
              <th>User</th>
              <th>Date</th>
              <th>Start</th>
              <th>End</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            {% for b in today_bookings %}
            <tr>
              <td>{{ b.room.room_number }}</td>
              <td>{{ b.user.name }}</td>
              <td>{{ b.start_time|date:"Y-m-d" }}</td>
              <td>{{ b.start_time|time:"H:i" }}</td>
              <td>{{ b.end_time|time:"H:i" }}</td>
              <td>{{ b.status|title }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
        {% else %}
        <p>No bookings today.</p>
        {% endif %}
      </div>

      <!-- Future Bookings -->
      <div class="tab-pane fade" id="future" role="tabpanel">
        {% if future_bookings %}
        <table class="table table-striped table-bordered">
          <thead class="table-light">
            <tr>
              <th>Room</th>
              <th>User</th>
              <th>Date</th>
              <th>Start</th>
              <th>End</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            {% for b in future_bookings %}
            <tr>
              <td>{{ b.room.room_number }}</td>
              <td>{{ b.user.name }}</td>
              <td>{{ b.start_time|date:"Y-m-d" }}</td>
              <td>{{ b.start_time|time:"H:i" }}</td>
              <td>{{ b.end_time|time:"H:i" }}</td>
              <td>{{ b.status|title }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
        {% else %}
        <p>No future bookings.</p>
        {% endif %}
      </div>

    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
