<section class="card">
  <h2>Available Rooms</h2>
  <p class="card-subtitle">Check the rooms you can reserve on campus.</p>

  {% if rooms %}
    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>Room #</th>
            <th>Type</th>
            <th>Capacity</th>
            <th>Day</th>
            <th>Start</th>
            <th>End</th>
          </tr>
        </thead>
        <tbody>
          {% for room in rooms %}
            {% for avail in room.availabilities.all %}
              <tr>
                <td>{{ room.room_number }}</td>
                <td>{{ room.room_type.room_type_name }}</td>
                <td>{{ room.capacity }}</td>
                <td>{{ avail.get_day_of_week_display }}</td>
                <td>{{ avail.start_time|time:"H:i" }}</td>
                <td>{{ avail.end_time|time:"H:i" }}</td>
              </tr>
            {% empty %}
              <tr>
                <td>{{ room.room_number }}</td>
                <td>{{ room.room_type.room_type_name }}</td>
                <td>{{ room.capacity }}</td>
                <td colspan="3" class="muted">No availability set</td>
              </tr>
            {% endfor %}
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="muted">No rooms available yet.</p>
  {% endif %}
</section>
